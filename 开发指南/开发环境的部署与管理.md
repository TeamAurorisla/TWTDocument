# 开发环境的部署与管理
## 了解仓库结构
本整合包目前一共有3个仓库，分别为：
- [The-Weaving-Tides](https://github.com/TeamAurorisla/The-Weaving-Tides)
- [TWTDocument](https://github.com/TeamAurorisla/TWTDocument)
- [.twt_mods](https://github.com/TeamAurorisla/.twt_mods)

第一个为整合包文件储存库，即主仓库；第二个为开发文档仓库；第三个则是模组文件仓库。
模组简单粗暴地分离出来储存是为了解决多人协作同步问题，其仓库为私有库，不对外开放。

## 部署整合包
在Git图形端内找到克隆新仓库的按钮，选中`The-Weaving-Tides`仓库，更改克隆路径为`xxx\instances\The-Weaving-Tides`，然后点击Clone按钮。完成后，除了模组以外的文件均已经部署完毕。

接下来在游戏根目录下新建名为`mods`的文件夹 *（跟config、kubejs同级）*，然后再把`.twt_mods`仓库克隆到`xxx\instances\The-Weaving-Tides\minecraft\mods`路径内，克隆完成后整个整合包的开发环境便部署完毕。为确保所有mod的版本均为最新，你可以在启动器内点击`检查更新`按钮，若有需要更新的mod，请点击更新。

> [!NOTE] 
> 日后如果有新加的mod，其负责人会通知各位将此仓库新的commit给fetch下来，而更新mod你则需要在启动器内检查并更新所有mod即可。当然，你也可以通过Git图形端来更新mod，前提是已经有人更新了这些需要被更新的mod。
### 关于模组的补充
1. 模组的管理基于PrismLaucher，这一启动器虽然不能完美解决团队协作中模组不同步的问题，却可以很好地更新和管理模组，它支持同时从CurseForge和Modrinth快速下载模组并导出。
2. mods文件夹内生成的`.index`文件夹 *（该文件夹默认隐藏）*，其内部储存的为每个模组的元数据，即模组信息，请勿移除。
3. 模组管理这块一直都是多人协作开发整合包的痛处，因此这个包才采取了你所见的这种简单粗暴的方式：在组织内弄一个私有库来储存所有的模组文件与元数据文件。
4. 把元数据也上传到仓库是为了以后mod的更新，如果启动器检测不到元数据便无法实现更新。

## 部署开发文档
没啥需要啰嗦的，把文档仓库克隆到你喜欢的地方就行，然后使用支持markdown书写的软件打开仓库文件夹即可 *（推荐使用Obsidian）*。

## 在VSCode中配置仓库
打开Visual Studio Code，然后在左上角文件处选择打开文件夹，再选择整合包仓库文件夹，打开后点击信任按钮。

在VSCode中打开仓库可以快速查找并管理所有整合包文件，这对于使用KubeJS进行魔改或者更改config中的配置文件是非常方便的。

如果你装载了部分跟Git挂钩的插件，你还可以在VSCode中推送你所做的更改。