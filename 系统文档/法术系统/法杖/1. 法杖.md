# 法杖

>[!NOTE]
>航迹：潮汐绘卷所指称的法杖，指的是 Staff，是一种较长的类似权柄的双手武器。 
>不是那种像是一根细长的棍子的魔杖（wand）！  
>我也在考虑要不要在之后加入更多的施法工具，类似魔杖，魔导书，甚至魔铳。但是这些施法武器彼此之间的特色和强度不太好平衡，而且如此我觉得可能有些冗杂，所以现在就不先设计了。

法杖是法术的施法工具，所有的法术都需要通过法杖来释放。除了法术之外，法杖也拥有基础的法术攻击形式，**魔弹**。法杖通过发射魔力凝聚而成的魔弹来对敌人造成伤害，不消耗魔力。除了魔弹之外，法杖还拥有较弱的近战攻击能力，但是近战攻击消耗的耐久是魔弹与

## 模块化法杖
法杖以模块化设计为核心理念，玩家可以通过使用不同的模块来定制和优化自己的法杖，以适应不同的战斗需求和策略。已经制作完成的法杖可以进行进一步的强化和优化，但是无法更换模块。法杖的制作和升级可能因为材料的冲突而有负面效果。
法杖有如下属性：
- 耐久：法杖的耐久度，当耐久度为零时，法杖将会变为受损法杖，无法修复，只能用作强化材料
- 近战攻击力：法杖的近战攻击伤害
- 魔弹伤害：法杖发射魔弹的伤害
- 攻击速度：法杖在近战和魔弹攻击时的攻击速度
- 法术强度：法术强度影响法杖释放法术时的伤害输出。法术强度越高，法术造成的伤害越大
- 魔导效能：魔导效能影响法杖释放法术时的魔力消耗。魔导效能越高，法术消耗的魔力越少
- 流派亲和：流派亲和可以提升对应流派法术的威力和效果，一般而言，法杖只能有一至两种流派亲和，如果材料互相矛盾，可能会有减益
- 可镶嵌宝石数：法杖可以镶嵌宝石来提升属性和添加附加效果。材料越高级，法杖可以镶嵌的宝石数越多

### 法杖的组成部件
法杖由以下几个主要部件组成：
- 杖身：法杖的主体材料，构成法杖的物理形态。关联属性：耐久，近战攻击力，攻击速度，魔术强度，流派亲和
- 核心：法杖的魔力核心，决定法杖的魔导效能，法术强度和流派亲和
- 杖芯：法杖最核心的材料，决定了法杖的核心属性。决定了法杖的魔弹伤害，法术强度，魔导效能，流派亲和
- 绑定结：绑定结是连接法杖各个部件的关键，决定了法杖的整体稳定性和耐久。关联属性：耐久，近战攻击力
- 纹饰：纹饰决定了法杖的外观和一些附加属性，是制作法杖时的最后一步。关联属性：耐久，攻击速度，法术强度，魔导效能，流派亲和
- 宝石：宝石在制作中不能镶嵌，具体详见法杖强化部分

#### 属性计算方式
// WIP
- 耐久度：( 杖身 + 绑定结 ) * ( 1 + 纹饰加成 )
- 近战攻击力
- 魔弹伤害  
- 攻击速度  
- 法术强度  
- 魔导效能  
- 流派亲和  
- 可镶嵌宝石数  

### 法杖的制作
//WIP

>[!NOTE]
>MyuMoon:  
>我的想法是法杖的制作/强化/修复/特化都在同一个特殊的工作台上进行。方块的GUI开始只有一个容器，当容器里放置杖芯时，进入法杖制作界面，放置法杖时进入法杖强化/修复/特化界面。  
>毕竟法杖的制作不是法术系统的主要玩法，过多的功能方块会显得冗杂。  

- 特定的材料组合可以合成有特殊名称的法杖。


### 法杖的美术设计
我现在的想法是我的法杖使用晴路卡的模型库（SL0ANE/Loy-s-Goodies）中的wand模型改造，使用动态纹理。  
其中，杖身决定了法杖的整体形态和颜色，核心决定了法杖顶部聚能核心的颜色，绑定结决定了法杖绑定结的装饰形态，纹饰决定了法杖的细节装饰和附加颜色。  

## 魔弹攻击
魔弹攻击是法杖的基础攻击形式，通过发射魔力凝聚而成的魔弹来对敌人造成伤害。魔弹攻击不消耗魔力，但是会有短暂冷却时间。通过法杖特化，魔弹会转变为带有流派和流派属性的魔弹。

## 法杖的使用
左键：近战攻击/魔弹攻击（ALT键切换）  
右键：选择法术并释放  
